<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>

    <th:block th:include="template/head" />

    <script th:inline="javascript">

        var header = $("meta[name='_csrf_header']").attr("content");
        var token = $("meta[name='_csrf']").attr("content");
        window.onload = function () {
            let likes = [[${ likes }]];
            let pid = [[${ product.id }]];
            for (let i = 0; i < likes.length; i++) {
                if (pid != likes[i].review.product.id) continue;
                let heart_off = document.getElementById(`heart_off_${likes[i].review.id}`);
                let heart_on = document.getElementById(`heart_on_${likes[i].review.id}`);
                heart_off.style.display = 'none';
                heart_on.style.display = 'inline';
            }
        }

        //진행중으로 임시저장
        const orderSaveOn = (id) => {
            const stock = document.getElementById(`${id}stock`).value;
            const price = document.getElementById(`${id}original_price`).value;
            const total = stock * price;

            let orders = [{
                "user": [[${ session.User }]],
                "product": [[${ product }]],
                "stock": stock,
                "total": total,
                "price": price,
                "orderStatus": "ON"
            }];

            $.ajax({
                method: 'POST',
                url: '/api/order/orderSave',
                contentType: 'application/json',
                data: JSON.stringify(orders),
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
            }).done(function (response) {
                if (typeof response.message != 'undefined') {
                    alert(response.message);
                } else {
                    location.href = '/checkout';
                }
            });
        }

        function reviewSave() {
            let review = {
                "user": [[${ session.User }]],
                "product": [[${ product }]],
                "contents": document.getElementById('reviewContent').value,
                "likes": 0,
                "rates": document.getElementById('rates').value,
            };

            $.ajax({
                method: "POST",
                url: '/api/review/save',
                contentType: 'application/json',
                data: JSON.stringify(review),
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
            }).done(function (response) {
                if (typeof response.message != 'undefined') {
                    alert(response.message);
                } else {
                    alert('리뷰를 작성 하였습니다');
                    location.reload();
                }
            });
        }

        function modifyShow(id) {
            const modify = document.getElementById(`modify_${id}`);
            modify.style.display = 'inline';
        }

        function modifyHide(id) {
            const modify = document.getElementById(`modify_${id}`);
            modify.style.display = 'none';
        }

        function reviewModify(id) {
            const contents = document.getElementById(`contents_${id}`).value;

            let review = {
                "id": id,
                "contents": contents,
            };

            $.ajax({
                method: "POST",
                url: '/api/review/update',
                data: review,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
            }).done(function (response) {
                if (typeof response.message != 'undefined') {
                    alert(response.message);
                } else {
                    alert('리뷰를 수정 하였습니다');
                    location.reload();
                }
            })
        }

        function reviewDelete(id) {
            let con = confirm('리뷰를 삭제 하시겠습니까?');
            var sy = document.documentElement.scrollTop;
            if (con == false) {
                location.reload();
                document.documentElement.scrollTop = sy;
                return;
            }
            $.ajax({
                method: "DELETE",
                url: '/api/review/delete',
                "data": { "id": id },
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
            }).done(function (response) {
                if (typeof response.message != 'undefined') {
                    alert(response.message);
                } else {
                    alert('작성하신 리뷰를 삭제 하였습니다');
                    location.reload();
                    document.documentElement.scrollTop = sy;
                }
            })
        }

        function ratesSave(_this) {
            document.getElementById('rates').value = _this.value;
        }

        function heart_add(id) {
            let heart_off = document.getElementById(`heart_off_${id}`);
            let heart_on = document.getElementById(`heart_on_${id}`);
            let create = document.getElementById(`create_${id}`).value;
            let contents = document.getElementById(`contents_${id}`).value;

            let l = document.getElementById(`likecount_${id}`).value;
            heart_off.style.display = 'none';
            heart_on.style.display = 'inline';

            let review = {
                "id": id,
            };

            $.ajax({
                method: "POST",
                url: '/asyncReviewLikePlusUpdate',
                data: review,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
            }).done(function (response) {
                if (typeof response.message != 'undefined') {
                    alert(response.message);
                } else {
                    let review = {
                        "id": id,
                        "createAt": create,
                        "contents": contents,
                        "user": [[${ session.User }]],
                        "product": [[${ product }]],
                        "likes": l,
                        "rates": document.getElementById('rates').value,
                    };


                    $('#likeDiv').replaceWith(response);
                    alertLikeUpdate();

                    let likes = {
                        "user": [[${ session.User }]],
                        "review": review,
                        "product": [[${ product }]],
                    };



                    $.ajax({
                        method: "POST",
                        url: '/asyncLikesSave',
                        contentType: 'application/json',
                        data: JSON.stringify(likes),
                        beforeSend: function (xhr) {
                            xhr.setRequestHeader(header, token);
                        },
                    }).done(function (response) {
                        if (typeof response.message != 'undefined') {
                            alert(response.message);
                        } else {
                            $.ajax({
                                method: "GET",
                                url: '/api/likes/getMyLikesAll',
                            }).done(function (response) {
                                console.log(response);
                                let pid = [[${ product.id }]];

                                for (let i = 0; i < response.length; i++) {
                                    if (pid != response[i].review.product.id) continue;
                                    let heart_off = document.getElementById(`heart_off_${response[i].review.id}`);
                                    let heart_on = document.getElementById(`heart_on_${response[i].review.id}`);
                                    heart_off.style.display = 'none';
                                    heart_on.style.display = 'inline';
                                }
                            });
                        }
                    })
                }
            });
        }

        function heart_cancel(id) {
            let heart_off = document.getElementById(`heart_off_${id}`);
            let heart_on = document.getElementById(`heart_on_${id}`);
            let l = document.getElementById(`likecount_${id}`).value;
            let create = document.getElementById(`create_${id}`).value;
            let contents = document.getElementById(`contents_${id}`).value;

            heart_off.style.display = 'inline';
            heart_on.style.display = 'none';

            let review = {
                "id": id,
            };

            $.ajax({
                method: "POST",
                url: '/asyncReviewLikeMinusUpdate',
                data: review,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
            }).done(function (response) {
                if (typeof response.message != 'undefined') {
                    alert(response.message);
                } else {
                    $('#likeDiv').replaceWith(response);

                    let r = {
                        "id": id,
                        "createAt": create,
                        "contents": contents,
                        "user": [[${ session.User }]],
                        "product": [[${ product }]],
                        "likes": l,
                        "rates": document.getElementById('rates').value,
                    };

                    let likes = {
                        "user": [[${ session.User }]],
                        "review": r,
                    };

                    $.ajax({
                        method: "POST",
                        url: '/asyncLikesCancel',
                        contentType: 'application/json',
                        data: JSON.stringify(likes),
                    }).done(function (response) {
                        if (typeof response.message != 'undefined') {
                            alert(response.message);
                        } else {
                            $.ajax({
                                method: "GET",
                                url: '/api/likes/getMyLikesAll',
                            }).done(function (response) {
                                let pid = [[${ product.id }]];

                                for (let i = 0; i < response.length; i++) {
                                    if (pid != response[i].review.product.id) continue;
                                    let heart_off = document.getElementById(`heart_off_${response[i].review.id}`);
                                    let heart_on = document.getElementById(`heart_on_${response[i].review.id}`);
                                    heart_off.style.display = 'none';
                                    heart_on.style.display = 'inline';
                                }
                            });
                        }
                    });
                }
            });

        }

        function ch_price_plus(id) {
            let rem = [[${ product.stock }]];
            var stock = document.getElementById(`${id}stock`).value;
            stock = parseInt(stock) + 1;
            if (stock > rem) {
                return false;
            }
            var price = document.getElementById(`${id}original_price`).value;
            document.getElementById(`${id}price`).textContent = parseInt(price) * parseInt(stock);;
            document.getElementById(`${id}down`).style.display = "inline";
        }

        function ch_price_minus(id) {
            var stock = document.getElementById(`${id}stock`).value;
            stock = parseInt(stock) - 1;
            var price = document.getElementById(`${id}original_price`).value;
            document.getElementById(`${id}price`).textContent = parseInt(price) * parseInt(stock);
            if (stock == 1) {
                document.getElementById(`${id}down`).style.display = "none";
            }

        }
    </script>

    <style>
        input:focus {
            outline: none;
        }
    </style>



</head>


<body>
    <main>

        <th:block th:include="template/header" />



        <!-- Breadcrumbs -->
        <section class="g-brd-bottom g-brd-gray-light-v4 g-py-30">
            <div class="container">
                <ul class="u-list-inline">
                    <li class="list-inline-item g-mr-5">
                        <a class="u-link-v5 g-color-text" href="#">상품</a>
                        <i class="g-color-gray-light-v2 g-ml-5 fa fa-angle-right"></i>
                    </li>
                    <li class="list-inline-item g-mr-5">
                        <a class="u-link-v5 g-color-text" href="#"><span th:text="${product.category_main}">메인
                                카테고리</span></a>
                        <i class="g-color-gray-light-v2 g-ml-5 fa fa-angle-right"></i>
                    </li>
                    <li class="list-inline-item g-color-primary">
                        <span th:text="${product.category_sub}"></span>
                    </li>
                </ul>
            </div>
        </section>
        <!-- End Breadcrumbs -->


        <!-- Product Description -->
        <div class="container g-pt-50 g-pb-100">
            <div class="row">
                <div class="col-lg-7">
                    <!-- Carousel -->
                    <div id="carouselCus1" class="js-carousel g-pt-10 g-mb-10" data-infinite="true" data-fade="true"
                        data-arrows-classes="u-arrow-v1 g-brd-around g-brd-white g-absolute-centered--y g-width-45 g-height-45 g-font-size-14 g-color-white g-color-primary--hover rounded-circle"
                        data-arrow-left-classes="fa fa-angle-left g-left-40"
                        data-arrow-right-classes="fa fa-angle-right g-right-40" data-nav-for="#carouselCus2">



                        <div id="pre1" class="js-slide g-bg-cover g-bg-black-opacity-0_1--after">
                            <img style="width:650px; height:750px;" id="target1" class="img-fluid w-100 target1"
                                th:src="${product.main_image1}">
                        </div>

                        <div id="pre2" class="js-slide g-bg-cover g-bg-black-opacity-0_1--after">
                            <img style="width:650px; height:750px;" class="img-fluid w-100 target2"
                                th:src="${product.main_image2}" alt="Image Description">
                        </div>
                        <div id="pre3" class="js-slide g-bg-cover g-bg-black-opacity-0_1--after">
                            <img style="width:650px; height:750px;" class="img-fluid w-100 target3"
                                th:src="${product.main_image3}" alt="Image Description">
                        </div>
                    </div>

                    <div id="carouselCus2" class="js-carousel text-center u-carousel-v3 g-mx-minus-5"
                        data-infinite="true" data-center-mode="true" data-slides-show="3" data-is-thumbs="true"
                        data-nav-for="#carouselCus1">
                        <div class="js-slide g-cursor-pointer g-px-5">
                            <img style="width:250px; height:170px;" class="img-fluid target1"
                                th:src="${product.main_image1}" alt="Image Description">
                        </div>

                        <div class="js-slide g-cursor-pointer g-px-5">
                            <img style="width:250px; height:170px;" class="img-fluid target2"
                                th:src="${product.main_image2}" alt="Image Description">
                        </div>

                        <div class="js-slide g-cursor-pointer g-px-5">
                            <img style="width:250px; height:170px;" class="img-fluid target3"
                                th:src="${product.main_image3}" alt="Image Description">
                        </div>
                    </div>
                    <!-- End Carousel -->
                </div>

                <div class="col-lg-5">
                    <div class="g-px-40--lg g-pt-70">
                        <!-- Product Info -->
                        <input type="text" th:value="${product.id}" th:id="${product.id}+id" style="display:none;">
                        <div class="g-mb-30">
                            <h1 class="g-font-weight-300 mb-4" th:text="${product.title}"></h1>
                            </p>
                        </div>
                        <!-- End Product Info -->
                        <input style="display:none;" th:id="${product.id}+original_price" th:value="${product.price}"
                            type="text" />
                        <!-- Price -->
                        <div class="g-mb-30">
                            <h2 class="g-color-gray-dark-v5 g-font-weight-400 g-font-size-12 text-uppercase mb-2">가격
                            </h2>
                            <span th:id="${id}+price" class="g-color-black g-font-weight-500 g-font-size-30 mr-2"
                                th:text="${product.price}"></span>원
                            <!-- <s class="g-color-gray-dark-v4 g-font-weight-500 g-font-size-16">$101.00</s>
            -->
                        </div>
                        <!-- End Price -->

                        <!-- Accordion -->
                        <div id="accordion-01" role="tablist" aria-multiselectable="true">
                            <div id="accordion-01-heading-01" class="g-brd-y g-brd-gray-light-v3 py-3" role="tab">
                                <h5 class="g-font-weight-400 g-font-size-default mb-0">
                                    <a class="d-block g-color-gray-dark-v5 g-text-underline--none--hover"
                                        href="#accordion-01-body-01" data-toggle="collapse" data-parent="#accordion-01"
                                        aria-expanded="false" aria-controls="accordion-01-body-01">세부사항
                                        <span class="float-right g-pos-rel g-top-3 mr-1 fa fa-angle-down"></span></a>
                                </h5>
                            </div>
                            <div id="accordion-01-body-01" class="collapse" role="tabpanel"
                                aria-labelledby="accordion-01-heading-01">
                                <div class="g-py-10">
                                    <p class="g-font-size-12 mb-2" th:text="${product.content}"></p>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-between align-items-center g-brd-bottom g-brd-gray-light-v3 py-3"
                            role="tab">
                            <h5 class="g-color-gray-dark-v5 g-font-weight-400 g-font-size-default mb-0">사이즈</h5>


                            <label class="form-check-inline u-check mb-0 g-ml-15">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline2_1"
                                    type="radio">
                                <span th:text="${product.size}" class="d-block g-font-size-12 g-color-primary--checked">

                                </span>
                            </label>
                            <!-- End Checkbox -->
                        </div>
                        <!-- End Size -->

                        <!-- Quantity -->
                        <div class="d-flex justify-content-between align-items-center g-brd-bottom g-brd-gray-light-v3 py-3 g-mb-30"
                            role="tab">
                            <h5 class="g-color-gray-dark-v5 g-font-weight-400 g-font-size-default mb-0">수량</h5>

                            <div th:value="${product.id}"
                                class="js-quantity input-group u-quantity-v1 g-width-80 g-brd-primary--focus">
                                <input th:id="${product.id}+stock"
                                    class="js-result form-control text-center g-font-size-13 rounded-0" type="text"
                                    value="1" readonly>

                                <div
                                    class="input-group-addon d-flex align-items-center g-width-30 g-brd-gray-light-v2 g-bg-white g-font-size-13 rounded-0 g-pa-5">
                                    <i value="2" th:onclick="'ch_price_plus('+${product.id}+')'"
                                        class="js-plus g-color-gray g-color-primary--hover fa fa-angle-up"></i>
                                    <i style="display: none;" th:id="${product.id}+down"
                                        th:onclick="'ch_price_minus('+${product.id}+')'"
                                        class="js-minus g-color-gray g-color-primary--hover fa fa-angle-down"></i>
                                </div>
                                <div style="display: none" th:id="${product.id}+rem" th:text="${product.stock}"></div>
                            </div>
                        </div>

                        <div class="row g-mx-minus-5 g-mb-20">
                            <th:block th:if="${product.stock!=0}">
                                <div class="col g-px-5 g-mb-10">
                                    <button
                                        class="btn btn-block u-btn-primary g-font-size-12 text-uppercase g-py-15 g-px-25"
                                        type="button" th:onclick="'asyncCartSave('+${product.id}+')'">
                                        장바구니 <i class="align-middle ml-2 icon-finance-100 u-line-icon-pro"></i>
                                    </button>
                                </div>
                                <div class="col g-px-5 g-mb-10">
                                    <a th:if="${session.User}!=null" th:onclick="'orderSaveOn('+${product.id}+')'"
                                        class="btn btn-block u-btn-outline-black g-brd-gray-dark-v5 g-brd-black--hover g-color-gray-dark-v4 g-color-white--hover g-font-size-12 text-uppercase g-py-15 g-px-25">
                                        구매하기 <i class="align-middle ml-2 icon-medical-022 u-line-icon-pro"></i>
                                    </a>
                                    <a th:if="${session.User}==null" onclick="alert('로그인 해주세요.')"
                                        class="btn btn-block u-btn-outline-black g-brd-gray-dark-v5 g-brd-black--hover g-color-gray-dark-v4 g-color-white--hover g-font-size-12 text-uppercase g-py-15 g-px-25">
                                        구매하기 <i class="align-middle ml-2 icon-medical-022 u-line-icon-pro"></i>
                                    </a>
                                </div>
                            </th:block>

                            <th:block th:if="${product.stock==0}">
                                <div style="width:100%; text-align:center">남은 상품이 없습니다</div>
                            </th:block>

                            <input type="text" th:value="${product.id}" style="display:none;" id="productId">

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- End Product Description -->

        <!-- Description -->
        <div class="container">
            <div class="g-brd-y g-brd-gray-light-v4 g-pt-100 g-pb-70">
                <h2 class="h4 mb-3">제품정보</h2>

                <div class="row">
                    <div class="col-md-4 g-mb-30">
                        <p th:text="${product.content}">${product.content}</p>
                    </div>

                    <div class="col-md-4 g-mb-0 g-mb-30--md">
                        <!-- List -->
                        <ul class="list-unstyled g-color-text">
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>브랜드명:</span>
                                <span class="float-right g-color-black">H-MARKET</span>
                            </li>
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>제품명:</span>
                                <span class="float-right g-color-black" th:text="${product.title}"></span>
                            </li>
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>가격:</span>
                                <span class="float-right g-color-black" th:text="${product.price}+'원'"></span>
                            </li>
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>재고:</span>
                                <span class="float-right g-color-black" th:text="${product.stock}"></span>
                            </li>
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>사이즈:</span>
                                <span class="float-right g-color-black" th:text="${product.size}">${p_list.size}</span>
                            </li>
                        </ul>
                        <!-- End List -->
                    </div>

                    <div class="col-md-4 g-mb-30">
                        <!-- List -->
                        <ul class="list-unstyled g-color-text">
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>배송기간:</span>
                                <span class="float-right g-color-black">1-2일</span>
                            </li>
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>배송비:</span>
                                <span class="float-right g-color-black">무료</span>
                            </li>
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>환불정책:</span>
                                <span class="float-right g-color-black">무료</span>
                            </li>
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>판매자:</span>
                                <span class="float-right g-color-black">H</span>
                            </li>
                            <li class="g-brd-bottom--dashed g-brd-gray-light-v3 pt-1 mb-3">
                                <span>문의번호:</span>
                                <span class="float-right g-color-black">010-4018-6763</span>
                            </li>
                        </ul>
                        <!-- End List -->
                    </div>
                </div>
            </div>
        </div>
        <!-- End Description -->


        <!-- Details -->
        <div id="details" class="container-fluid g-px-0">
            <div class="row no-gutters g-min-height-100vh">
                <div class="col-md-6 align-self-center">
                    <div class="g-width-60x mx-auto g-px-50--lg g-py-100">
                        <span class="d-block g-font-size-16 text-uppercase mb-5">-제품설명1</span>
                        <h2 class="mb-4"></h2>
                        <p th:text="${product.description1}"></p>
                    </div>
                </div>

                <img id="pre6" style="width:1200px; height:1030px;"
                    class="col-md-6 g-bg-size-cover g-min-height-300 target6" th:src="${product.des_image1}">

            </div>
        </div>
        </div>
        <!-- End Details -->

        <!-- Craftmanship -->
        <div class="container-fluid g-px-0">
            <div class="row no-gutters g-min-height-100vh">
                <div class="col-md-6 order-md-2 align-self-center">
                    <div class="g-width-60x mx-auto g-px-50--lg g-py-100">
                        <span class="d-block g-font-size-16 text-uppercase mb-5">-제품설명2</span>
                        <h2 class="mb-4"></h2>
                        <p th:text="${product.description2}"></p>
                    </div>
                </div>

                <img id="pre6" style="width:1200px; height:1030px;"
                    class="col-md-6 g-bg-size-cover g-min-height-300 target6" th:src="${product.des_image2}">

            </div>
        </div>
        <!-- End Craftmanship -->

        <!-- Caring -->
        <div class="container-fluid g-px-0">
            <div class="row no-gutters g-min-height-100vh">
                <div class="col-md-6 align-self-center">
                    <div class="g-width-60x mx-auto g-px-50--lg g-py-100">
                        <span class="d-block g-font-size-16 text-uppercase mb-5">-제품설명3</span>
                        <h2 class="mb-4"></h2>
                        <p th:text="${product.description3}">
                        </p>
                    </div>
                </div>

                <img id="pre6" style="width:1200px; height:1030px;"
                    class="col-md-6 g-bg-size-cover g-min-height-300 target6" th:src="${product.des_image3}">

            </div>
        </div>
        <!-- End Caring -->




        <!-- 리뷰리스트 -->
        <div class="container">
            <div class="g-brd-y g-brd-gray-light-v4 g-py-100">
                <div class="row justify-content-center">
                    <div class="col-lg-9">
                        <h2 class="h4 mb-5">리뷰</h2>

                        <!-- Review -->
                        <div id="likeDiv" class="g-brd-bottom g-brd-gray-light-v4 g-pb-30 g-mb-50">
                            <!-- Media -->
                            <div th:each="r:${review}" class="media g-mb-30">
                                <img class="d-flex g-width-60 g-height-60 rounded-circle g-mt-3 g-mr-20"
                                    th:src="${r.user.profile}" alt="Image Description">
                                <div class="media-body">
                                    <div class="d-flex align-items-start g-mb-15 g-mb-10--sm">
                                        <div class="d-block">
                                            <h5 th:text="${r.user.name}" class="h6">James Coolman</h5>

                                            <!-- Rating -->
                                            <th:block th:with="rates=${r.rates}">
                                                <ul th:each="num :${#numbers.sequence(1,rates)}"
                                                    class="js-rating u-rating-v1 g-font-size-13 g-color-gray-light-v3 mb-0"
                                                    data-hover-classes="g-color-primary">
                                                    <li class="g-color-primary g-line-height-1_4">
                                                        <i class="fa fa-star"></i>
                                                    </li>

                                                </ul>
                                                <!-- End Rating -->
                                                <span th:text="${#temporals.format(r.createAt,'yyyy-MM-dd hh:mm')}"
                                                    class="d-block g-color-gray-dark-v5 g-font-size-11">June 7,
                                                    2017</span>
                                                <input type="text" th:value="${r.createAt}" th:id="'create_'+${r.id}"
                                                    style="display:none;">
                                        </div>

                                        <th:block th:if="${session.User!=null}">
                                            <div th:if=${r.user.accountId==session.User.accountId} class="ml-auto">

                                                <a style="margin-right: 4px;" th:onclick="'modifyShow('+${r.id}+')'"
                                                    class="u-link-v5 g-color-black g-color-primary--hover g-font-size-12 text-uppercase g-cursor-pointer">수정</a>

                                                <a th:onclick="'reviewDelete('+${r.id}+')'"
                                                    class="u-link-v5 g-color-black g-color-primary--hover g-font-size-12 text-uppercase g-cursor-pointer">삭제</a>
                                            </div>
                                        </th:block>
                                    </div>


                                    <p th:text="${r.contents}">The time has come to bring those ideas and plans to life.
                                        This is where we really begin to visualize your napkin sketches and make them
                                        into beautiful pixels. Whether through commerce or just an experience to tell
                                        your
                                        brand's story, the time has come to start using development languages that fit
                                        your projects needs.</p>

                                    <div style="margin-bottom:5px; margin-top: 1px; display:none"
                                        th:id="'modify_'+${r.id}">
                                        <input class="g-brd-around g-brd-gray-light-v4 g-bg-white g-py-5 g-px-13 "
                                            style="font-size:13px; border:0.3px solid gray" th:id="'contents_'+${r.id}"
                                            type="text" th:value="${r.contents}">

                                        <button th:onclick="'reviewModify('+${r.id}+')'"
                                            class="btn u-btn-primary g-font-size-13 text-uppercase g-py-6 g-px-14"
                                            type="button">수정</button>
                                        <button th:onclick="'modifyHide('+${r.id}+')'"
                                            class="btn u-btn-primary g-font-size-13 text-uppercase g-py-6 g-px-14"
                                            type="button">취소</button>
                                    </div>
                                    <ul class="list-inline my-0">
                                        <li class="list-inline-item g-mr-20">
                                            <a
                                                class=" g-color-gray-dark-v5 g-text-underline--none--hover g-cursor-pointer">
                                                <i th:onclick="'heart_add('+${r.id}+')'" th:id="'heart_off_'+${r.id}"
                                                    class="icon-medical-022 icon u-line-icon-pro g-pos-rel g-top-1 g-mr-3"></i>
                                                <i th:onclick="'heart_cancel('+${r.id}+')'" th:id="'heart_on_'+${r.id}"
                                                    class="fa fa-heart"
                                                    style="display: none; font-size:16px;color:red"></i>

                                                <th:block th:text="${r.likes}">5</th:block>
                                                <input style="display: none" type="text" th:value="${r.likes}"
                                                    th:id="'likecount_'+${r.id}">


                                            </a>
                                        </li>
                                        <!--                                        <li class="list-inline-item g-mr-20">-->
                                        <!--                                            <a class="g-color-gray-dark-v5 g-text-underline&#45;&#45;none&#45;&#45;hover" href="#">-->
                                        <!--                                                <i-->
                                        <!--                                                    class="icon-finance-206 u-line-icon-pro g-pos-rel g-top-1 g-mr-3"></i>-->
                                        <!--                                                1-->
                                        <!--                                            </a>-->
                                        <!--                                        </li>-->
                                    </ul>
                                </div>
                            </div>
                            <!-- End Media -->




                        </div>
                        <!-- End Review -->

                        <h2 class="h4 mb-5">리뷰작성</h2>


                        <div class="g-mb-30">
                            <textarea id="reviewContent"
                                class="form-control g-color-black g-bg-white g-bg-white--focus g-brd-gray-light-v3 g-brd-primary--focus g-resize-none rounded-3 g-py-13 g-px-15"
                                rows="12" placeholder="작성 할 리뷰를 입력 해주세요"></textarea>
                        </div>


                        <div class="row align-items-center">
                            <div th:if="${session.User}!=null" class="col-5 col-sm-4 col-md-3">
                                <button onclick="reviewSave()"
                                    class="btn u-btn-primary g-font-size-12 text-uppercase g-py-15 g-px-25"
                                    type="button" role="button">리뷰작성</button>
                            </div>

                            <div th:if="${session.User}==null" class="col-5 col-sm-4 col-md-3">
                                <button onclick="alert('로그인 후 작성 가능합니다')"
                                    class="btn u-btn-primary g-font-size-12 text-uppercase g-py-15 g-px-25"
                                    type="button" role="button">리뷰작성</button>
                            </div>

                            <!-- Rating -->
                            <div class="col-5 col-sm-4 col-md-3">
                                <h3 class="h6 mb-1">별점:</h3>

                                <ul class="js-rating u-rating-v1 g-font-size-20 g-color-gray-light-v3 mb-0"
                                    data-hover-classes="g-color-primary">
                                    <li onclick="ratesSave(this)" class="g-color-primary g-line-height-1_4 click"
                                        value="1">
                                        <i class="fa fa-star"></i>
                                    </li>
                                    <li onclick="ratesSave(this)" class="g-color-primary g-line-height-1_4 click"
                                        value="2">
                                        <i class="fa fa-star"></i>
                                    </li>
                                    <li onclick="ratesSave(this)" class="g-color-primary g-line-height-1_4 click"
                                        value="3">
                                        <i class="fa fa-star"></i>
                                    </li>
                                    <li onclick="ratesSave(this)" class="g-color-primary g-line-height-1_4 click"
                                        value="4">
                                        <i class="fa fa-star"></i>
                                    </li>
                                    <li onclick="ratesSave(this)" class="g-line-height-1_4" value="5">
                                        <i class="fa fa-star"></i>
                                    </li>

                                    <input style="display: none;" type="text" value="4" id="rates">
                                </ul>
                                <!-- End Rating -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Review -->

        <!-- Products -->
        <!--        <div class="container g-pt-100 g-pb-70">-->
        <!--            <div class="text-center mx-auto g-max-width-600 g-mb-50">-->
        <!--                <h2 class="g-color-black mb-4">Featured Products</h2>-->
        <!--                <p class="lead">We want to create a range of beautiful, practical and modern outerwear that doesn't cost-->
        <!--                    the earth – but let's you still live life in style.</p>-->
        <!--            </div>-->

        <!--            &lt;!&ndash; Products &ndash;&gt;-->
        <!--            <div class="row">-->
        <!--                <div class="col-6 col-lg-3 g-mb-30">-->
        <!--                    &lt;!&ndash; Product &ndash;&gt;-->
        <!--                    <figure class="g-pos-rel g-mb-20">-->
        <!--                        <img class="img-fluid" src="assets/img-temp/480x700/img1.jpg" alt="Image Description">-->

        <!--                        <figcaption-->
        <!--                            class="w-100 g-bg-primary g-bg-black&#45;&#45;hover text-center g-pos-abs g-bottom-0 g-transition-0_2 g-py-5">-->
        <!--                            <a class="g-color-white g-font-size-11 text-uppercase g-letter-spacing-1 g-text-underline&#45;&#45;none&#45;&#45;hover"-->
        <!--                                href="#">New Arrival</a>-->
        <!--                        </figcaption>-->
        <!--                    </figure>-->

        <!--                    <div class="media">-->
        <!--                        &lt;!&ndash; Product Info &ndash;&gt;-->
        <!--                        <div class="d-flex flex-column">-->
        <!--                            <h4 class="h6 g-color-black mb-1">-->
        <!--                                <a class="u-link-v5 g-color-black g-color-primary&#45;&#45;hover" href="#">-->
        <!--                                    Summer shorts-->
        <!--                                </a>-->
        <!--                            </h4>-->
        <!--                            <a class="d-inline-block g-color-gray-dark-v5 g-font-size-13" href="#">Man</a>-->
        <!--                            <span class="d-block g-color-black g-font-size-17">$52.00</span>-->
        <!--                        </div>-->
        <!--                        &lt;!&ndash; End Product Info &ndash;&gt;-->

        <!--                        &lt;!&ndash; Products Icons &ndash;&gt;-->
        <!--                        <ul class="list-inline media-body text-right">-->
        <!--                            <li class="list-inline-item align-middle mx-0">-->
        <!--                                <a class="u-icon-v1 u-icon-size&#45;&#45;sm g-color-gray-dark-v5 g-color-primary&#45;&#45;hover g-font-size-15 rounded-circle"-->
        <!--                                    href="#" data-toggle="tooltip" data-placement="top" title="Add to Cart">-->
        <!--                                    <i class="icon-finance-100 u-line-icon-pro"></i>-->
        <!--                                </a>-->
        <!--                            </li>-->
        <!--                            <li class="list-inline-item align-middle mx-0">-->
        <!--                                <a class="u-icon-v1 u-icon-size&#45;&#45;sm g-color-gray-dark-v5 g-color-primary&#45;&#45;hover g-font-size-15 rounded-circle"-->
        <!--                                    href="#" data-toggle="tooltip" data-placement="top" title="Add to Wishlist">-->
        <!--                                    <i class="icon-medical-022 u-line-icon-pro"></i>-->
        <!--                                </a>-->
        <!--                            </li>-->
        <!--                        </ul>-->
        <!--                        &lt;!&ndash; End Products Icons &ndash;&gt;-->
        <!--                    </div>-->
        <!--                    &lt;!&ndash; End Product &ndash;&gt;-->
        <!--                </div>-->

        <!--                <div class="col-6 col-lg-3 g-mb-30">-->
        <!--                    &lt;!&ndash; Product &ndash;&gt;-->
        <!--                    <figure class="g-pos-rel g-mb-20">-->
        <!--                        <img class="img-fluid" src="assets/img-temp/480x700/img2.jpg" alt="Image Description">-->

        <!--                        <span-->
        <!--                            class="u-ribbon-v1 g-width-40 g-height-40 g-color-white g-bg-primary g-font-size-13 text-center text-uppercase g-rounded-50x g-top-10 g-right-minus-10 g-px-2 g-py-10">-40%</span>-->
        <!--                    </figure>-->

        <!--                    <div class="media">-->
        <!--                        &lt;!&ndash; Product Info &ndash;&gt;-->
        <!--                        <div class="d-flex flex-column">-->
        <!--                            <h4 class="h6 g-color-black mb-1">-->
        <!--                                <a class="u-link-v5 g-color-black g-color-primary&#45;&#45;hover" href="#">-->
        <!--                                    Stylish shirt-->
        <!--                                </a>-->
        <!--                            </h4>-->
        <!--                            <a class="d-inline-block g-color-gray-dark-v5 g-font-size-13" href="#">Woman</a>-->
        <!--                            <span class="d-block g-color-black g-font-size-17">$99.00</span>-->
        <!--                        </div>-->
        <!--                        &lt;!&ndash; End Product Info &ndash;&gt;-->

        <!--                        &lt;!&ndash; Products Icons &ndash;&gt;-->
        <!--                        <ul class="list-inline media-body text-right">-->
        <!--                            <li class="list-inline-item align-middle mx-0">-->
        <!--                                <a class="u-icon-v1 u-icon-size&#45;&#45;sm g-color-gray-dark-v5 g-color-primary&#45;&#45;hover g-font-size-15 rounded-circle"-->
        <!--                                    href="#" data-toggle="tooltip" data-placement="top" title="Add to Cart">-->
        <!--                                    <i class="icon-finance-100 u-line-icon-pro"></i>-->
        <!--                                </a>-->
        <!--                            </li>-->
        <!--                            <li class="list-inline-item align-middle mx-0">-->
        <!--                                <a class="u-icon-v1 u-icon-size&#45;&#45;sm g-color-gray-dark-v5 g-color-primary&#45;&#45;hover g-font-size-15 rounded-circle"-->
        <!--                                    href="#" data-toggle="tooltip" data-placement="top" title="Add to Wishlist">-->
        <!--                                    <i class="icon-medical-022 u-line-icon-pro"></i>-->
        <!--                                </a>-->
        <!--                            </li>-->
        <!--                        </ul>-->
        <!--                        &lt;!&ndash; End Products Icons &ndash;&gt;-->
        <!--                    </div>-->
        <!--                    &lt;!&ndash; End Product &ndash;&gt;-->
        <!--                </div>-->

        <!--                <div class="col-6 col-lg-3 g-mb-30">-->
        <!--                    &lt;!&ndash; Product &ndash;&gt;-->
        <!--                    <figure class="g-pos-rel g-mb-20">-->
        <!--                        <img class="img-fluid" src="assets/img-temp/480x700/img3.jpg" alt="Image Description">-->

        <!--                        <figcaption-->
        <!--                            class="w-100 g-bg-lightred text-center g-pos-abs g-bottom-0 g-transition-0_2 g-py-5">-->
        <!--                            <span class="g-color-white g-font-size-11 text-uppercase g-letter-spacing-1">Sold Out</a>-->
        <!--                        </figcaption>-->
        <!--                    </figure>-->

        <!--                    <div class="media">-->
        <!--                        &lt;!&ndash; Product Info &ndash;&gt;-->
        <!--                        <div class="d-flex flex-column">-->
        <!--                            <h4 class="h6 g-color-black mb-1">-->
        <!--                                <a class="u-link-v5 g-color-black g-color-primary&#45;&#45;hover" href="#">-->
        <!--                                    Classic jacket-->
        <!--                                </a>-->
        <!--                            </h4>-->
        <!--                            <a class="d-inline-block g-color-gray-dark-v5 g-font-size-13" href="#">Man</a>-->
        <!--                            <span class="d-block g-color-black g-font-size-17">$49.99</span>-->
        <!--                        </div>-->
        <!--                        &lt;!&ndash; End Product Info &ndash;&gt;-->

        <!--                        &lt;!&ndash; Products Icons &ndash;&gt;-->
        <!--                        <ul class="list-inline media-body text-right">-->
        <!--                            <li class="list-inline-item align-middle mx-0">-->
        <!--                                <a class="u-icon-v1 u-icon-size&#45;&#45;sm g-color-gray-dark-v5 g-color-primary&#45;&#45;hover g-font-size-15 rounded-circle"-->
        <!--                                    href="#" data-toggle="tooltip" data-placement="top" title="Add to Cart">-->
        <!--                                    <i class="icon-finance-100 u-line-icon-pro"></i>-->
        <!--                                </a>-->
        <!--                            </li>-->
        <!--                            <li class="list-inline-item align-middle mx-0">-->
        <!--                                <a class="u-icon-v1 u-icon-size&#45;&#45;sm g-color-gray-dark-v5 g-color-primary&#45;&#45;hover g-font-size-15 rounded-circle"-->
        <!--                                    href="#" data-toggle="tooltip" data-placement="top" title="Add to Wishlist">-->
        <!--                                    <i class="icon-medical-022 u-line-icon-pro"></i>-->
        <!--                                </a>-->
        <!--                            </li>-->
        <!--                        </ul>-->
        <!--                        &lt;!&ndash; End Products Icons &ndash;&gt;-->
        <!--                    </div>-->
        <!--                    &lt;!&ndash; End Product &ndash;&gt;-->
        <!--                </div>-->

        <!--                <div class="col-6 col-lg-3 g-mb-30">-->
        <!--                    &lt;!&ndash; Product &ndash;&gt;-->
        <!--                    <figure class="g-pos-rel g-mb-20">-->
        <!--                        <img class="img-fluid" src="assets/img-temp/480x700/img4.jpg" alt="Image Description">-->
        <!--                    </figure>-->

        <!--                    <div class="media">-->
        <!--                        &lt;!&ndash; Product Info &ndash;&gt;-->
        <!--                        <div class="d-flex flex-column">-->
        <!--                            <h4 class="h6 g-color-black mb-1">-->
        <!--                                <a class="u-link-v5 g-color-black g-color-primary&#45;&#45;hover" href="#">-->
        <!--                                    Wool lined parka-->
        <!--                                </a>-->
        <!--                            </h4>-->
        <!--                            <a class="d-inline-block g-color-gray-dark-v5 g-font-size-13" href="#">Woman</a>-->
        <!--                            <span class="d-block g-color-black g-font-size-17">$82.37</span>-->
        <!--                        </div>-->
        <!--                        &lt;!&ndash; End Product Info &ndash;&gt;-->

        <!--                        &lt;!&ndash; Products Icons &ndash;&gt;-->
        <!--                        <ul class="list-inline media-body text-right">-->
        <!--                            <li class="list-inline-item align-middle mx-0">-->
        <!--                                <a class="u-icon-v1 u-icon-size&#45;&#45;sm g-color-gray-dark-v5 g-color-primary&#45;&#45;hover g-font-size-15 rounded-circle"-->
        <!--                                    href="#" data-toggle="tooltip" data-placement="top" title="Add to Cart">-->
        <!--                                    <i class="icon-finance-100 u-line-icon-pro"></i>-->
        <!--                                </a>-->
        <!--                            </li>-->
        <!--                            <li class="list-inline-item align-middle mx-0">-->
        <!--                                <a class="u-icon-v1 u-icon-size&#45;&#45;sm g-color-gray-dark-v5 g-color-primary&#45;&#45;hover g-font-size-15 rounded-circle"-->
        <!--                                    href="#" data-toggle="tooltip" data-placement="top" title="Add to Wishlist">-->
        <!--                                    <i class="icon-medical-022 u-line-icon-pro"></i>-->
        <!--                                </a>-->
        <!--                            </li>-->
        <!--                        </ul>-->
        <!--                        &lt;!&ndash; End Products Icons &ndash;&gt;-->
        <!--                    </div>-->
        <!--                    &lt;!&ndash; End Product &ndash;&gt;-->
        <!--                </div>-->
        <!--            </div>-->
        <!--            &lt;!&ndash; End Products &ndash;&gt;-->
        <!--        </div>-->
        <!-- End Products -->


        <a class="js-go-to u-go-to-v2" href="#" data-type="fixed" data-position='{
           "bottom": 15,
           "right": 15
         }' data-offset-top="400" data-compensation="#js-header" data-show-effect="zoomIn">
            <i class="hs-icon hs-icon-arrow-top"></i>
        </a>
    </main>

    <div class="u-outer-spaces-helper"></div>


    <th:block th:include="template/footer"></th:block>

    <th:block th:include="template/script"></th:block>


    <!-- JS Plugins Init. -->
    <script>
        $(document).on('ready', function () {
            // initialization of carousel
            $.HSCore.components.HSCarousel.init('.js-carousel');

            // initialization of header
            $.HSCore.components.HSHeader.init($('#js-header'));
            $.HSCore.helpers.HSHamburgers.init('.hamburger');

            // initialization of HSMegaMenu plugin
            $('.js-mega-menu').HSMegaMenu({
                event: 'hover',
                pageContainer: $('.container'),
                breakpoint: 991
            });

            // initialization of HSDropdown component
            $.HSCore.components.HSDropdown.init($('[data-dropdown-target]'), {
                afterOpen: function () {
                    $(this).find('input[type="search"]').focus();
                }
            });

            // initialization of go to
            $.HSCore.components.HSGoTo.init('.js-go-to');

            // initialization of HSScrollBar component
            $.HSCore.components.HSScrollBar.init($('.js-scrollbar'));

            // initialization of quantity counter
            $.HSCore.components.HSCountQty.init('.js-quantity');

            // initialization of tabs
            $.HSCore.components.HSTabs.init('[role="tablist"]');

            // initialization of rating
            $.HSCore.helpers.HSRating.init();
        });

        $(window).on('resize', function () {
            setTimeout(function () {
                $.HSCore.components.HSTabs.init('[role="tablist"]');
            }, 200);
        });
    </script>
</body>

</html>